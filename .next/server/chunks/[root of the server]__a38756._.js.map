{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/app/seed/route.ts"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport { db } from '@vercel/postgres';\nimport { invoices, customers, revenue, users } from '../lib/placeholder-data';\n\nconst client = await db.connect();\n\nasync function seedUsers() {\n  await client.sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n  await client.sql`\n    CREATE TABLE IF NOT EXISTS users (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      name VARCHAR(255) NOT NULL,\n      email TEXT NOT NULL UNIQUE,\n      password TEXT NOT NULL\n    );\n  `;\n\n  const insertedUsers = await Promise.all(\n    users.map(async (user) => {\n      const hashedPassword = await bcrypt.hash(user.password, 10);\n      return client.sql`\n        INSERT INTO users (id, name, email, password)\n        VALUES (${user.id}, ${user.name}, ${user.email}, ${hashedPassword})\n        ON CONFLICT (id) DO NOTHING;\n      `;\n    }),\n  );\n\n  return insertedUsers;\n}\n\nasync function seedInvoices() {\n  await client.sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n\n  await client.sql`\n    CREATE TABLE IF NOT EXISTS invoices (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      customer_id UUID NOT NULL,\n      amount INT NOT NULL,\n      status VARCHAR(255) NOT NULL,\n      date DATE NOT NULL\n    );\n  `;\n\n  const insertedInvoices = await Promise.all(\n    invoices.map(\n      (invoice) => client.sql`\n        INSERT INTO invoices (customer_id, amount, status, date)\n        VALUES (${invoice.customer_id}, ${invoice.amount}, ${invoice.status}, ${invoice.date})\n        ON CONFLICT (id) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedInvoices;\n}\n\nasync function seedCustomers() {\n  await client.sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n\n  await client.sql`\n    CREATE TABLE IF NOT EXISTS customers (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      name VARCHAR(255) NOT NULL,\n      email VARCHAR(255) NOT NULL,\n      image_url VARCHAR(255) NOT NULL\n    );\n  `;\n\n  const insertedCustomers = await Promise.all(\n    customers.map(\n      (customer) => client.sql`\n        INSERT INTO customers (id, name, email, image_url)\n        VALUES (${customer.id}, ${customer.name}, ${customer.email}, ${customer.image_url})\n        ON CONFLICT (id) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedCustomers;\n}\n\nasync function seedRevenue() {\n  await client.sql`\n    CREATE TABLE IF NOT EXISTS revenue (\n      month VARCHAR(4) NOT NULL UNIQUE,\n      revenue INT NOT NULL\n    );\n  `;\n\n  const insertedRevenue = await Promise.all(\n    revenue.map(\n      (rev) => client.sql`\n        INSERT INTO revenue (month, revenue)\n        VALUES (${rev.month}, ${rev.revenue})\n        ON CONFLICT (month) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedRevenue;\n}\n\nexport async function GET() {\n  // return Response.json({\n  //   message:\n  //     'Uncomment this file and remove this line. You can delete this file when you are finished.',\n  // });\n  try {\n    await client.sql`BEGIN`;\n    await seedUsers();\n    await seedCustomers();\n    await seedInvoices();\n    await seedRevenue();\n    await client.sql`COMMIT`;\n\n    return Response.json({ message: 'Database seeded successfully' });\n  } catch (error) {\n    await client.sql`ROLLBACK`;\n    return Response.json({ error }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AADA;;;;AAGA,MAAM,SAAS,MAAM,oPAAA,CAAA,KAAE,CAAC,OAAO;AAE/B,eAAe;IACb,MAAM,OAAO,GAAG,CAAC,0CAA0C,CAAC;IAC5D,MAAM,OAAO,GAAG,CAAC;;;;;;;EAOjB,CAAC;IAED,MAAM,gBAAgB,MAAM,QAAQ,GAAG,CACrC,mIAAA,CAAA,QAAK,CAAC,GAAG,CAAC,OAAO;QACf,MAAM,iBAAiB,MAAM,+FAAA,CAAA,UAAM,CAAC,IAAI,CAAC,KAAK,QAAQ,EAAE;QACxD,OAAO,OAAO,GAAG,CAAC;;gBAER,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE,KAAK,KAAK,CAAC,EAAE,EAAE,eAAe;;MAEpE,CAAC;IACH;IAGF,OAAO;AACT;AAEA,eAAe;IACb,MAAM,OAAO,GAAG,CAAC,0CAA0C,CAAC;IAE5D,MAAM,OAAO,GAAG,CAAC;;;;;;;;EAQjB,CAAC;IAED,MAAM,mBAAmB,MAAM,QAAQ,GAAG,CACxC,mIAAA,CAAA,WAAQ,CAAC,GAAG,CACV,CAAC,UAAY,OAAO,GAAG,CAAC;;gBAEd,EAAE,QAAQ,WAAW,CAAC,EAAE,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,QAAQ,IAAI,CAAC;;MAEvF,CAAC;IAIL,OAAO;AACT;AAEA,eAAe;IACb,MAAM,OAAO,GAAG,CAAC,0CAA0C,CAAC;IAE5D,MAAM,OAAO,GAAG,CAAC;;;;;;;EAOjB,CAAC;IAED,MAAM,oBAAoB,MAAM,QAAQ,GAAG,CACzC,mIAAA,CAAA,YAAS,CAAC,GAAG,CACX,CAAC,WAAa,OAAO,GAAG,CAAC;;gBAEf,EAAE,SAAS,EAAE,CAAC,EAAE,EAAE,SAAS,IAAI,CAAC,EAAE,EAAE,SAAS,KAAK,CAAC,EAAE,EAAE,SAAS,SAAS,CAAC;;MAEpF,CAAC;IAIL,OAAO;AACT;AAEA,eAAe;IACb,MAAM,OAAO,GAAG,CAAC;;;;;EAKjB,CAAC;IAED,MAAM,kBAAkB,MAAM,QAAQ,GAAG,CACvC,mIAAA,CAAA,UAAO,CAAC,GAAG,CACT,CAAC,MAAQ,OAAO,GAAG,CAAC;;gBAEV,EAAE,IAAI,KAAK,CAAC,EAAE,EAAE,IAAI,OAAO,CAAC;;MAEtC,CAAC;IAIL,OAAO;AACT;AAEO,eAAe;IACpB,yBAAyB;IACzB,aAAa;IACb,mGAAmG;IACnG,MAAM;IACN,IAAI;QACF,MAAM,OAAO,GAAG,CAAC,KAAK,CAAC;QACvB,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM;QACN,MAAM,OAAO,GAAG,CAAC,MAAM,CAAC;QAExB,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAA+B;IACjE,EAAE,OAAO,OAAO;QACd,MAAM,OAAO,GAAG,CAAC,QAAQ,CAAC;QAC1B,OAAO,SAAS,IAAI,CAAC;YAAE;QAAM,GAAG;YAAE,QAAQ;QAAI;IAChD;AACF"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}